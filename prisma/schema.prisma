// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}


model Constructor{
  id String @default(uuid()) @unique

  entrantId String @unique

  drivers Driver[]

tyreManufacturerId String
  tyreManufacturer TyreManufacturer @relation(fields: [tyreManufacturerId],references: [id])

standing ConstructorStanding?

engineManufacturerId String
engineManufacturer EngineManufacturer @relation(fields: [engineManufacturerId],references: [name])

}

model Driver{
  id String @default(uuid()) @unique

driverId String @unique

constructorId String
constructor Constructor @relation(fields: [constructorId],references: [id])

standing DriverStanding?

}

model EngineManufacturer{
  id String @default(uuid()) @unique

  name String @unique

  countryId String
  country Country @relation(fields: [countryId],references: [countryId])

constructors Constructor[]

}

model TyreManufacturer{
  id String @default(uuid()) @unique

  name String

  countryId String
  country Country @relation(fields: [countryId],references: [countryId])

constructors Constructor[]

}

model DriverStanding{
  id String @default(uuid()) @unique

  driverId String @unique
  driver Driver? @relation(fields: [driverId],references: [driverId])

  position Int

  point Int

}

model ConstructorStanding{
  id String @default(uuid()) @unique


constructorId String @unique
constructor Constructor? @relation(fields: [constructorId],references: [entrantId])


points Int

position Int

}

model GrandPrix{
  id String @default(uuid()) @unique

name String

fullName String

shortName String

abbreviation String

countryId String @unique
country Country @relation(fields: [countryId],references: [countryId])

}

model Country{
  id String @default(uuid()) @unique

name String

countryId String @unique

grandPrix GrandPrix[]

tyreManufacturers TyreManufacturer[]

engineManufacturers EngineManufacturer[]

}